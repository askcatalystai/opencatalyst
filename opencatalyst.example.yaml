# OpenCatalyst Configuration Example
# Copy to opencatalyst.yaml and customize

name: "Lohitha Foods Store Assistant"
model: claude-sonnet-4  # or gpt-4o, gemini-1.5-pro

stores:
  # Medusa.js store
  - name: lohitha
    platform: medusa
    url: https://api.lohithafoods.com
    apiKey: ${MEDUSA_API_KEY}  # Set in .env or environment

  # Shopify store (alternative)
  # - name: my-shopify-store
  #   platform: shopify
  #   url: https://my-store.myshopify.com
  #   accessToken: ${SHOPIFY_ACCESS_TOKEN}

channels:
  # Web chat widget (embed on your store)
  - type: webchat
    enabled: true
    config:
      theme: "rice-gold"
      position: "bottom-right"
      welcomeMessage: "Hi! How can I help you today?"

  # Slack integration (for team)
  - type: slack
    enabled: true
    config:
      botToken: ${SLACK_BOT_TOKEN}
      signingSecret: ${SLACK_SIGNING_SECRET}
      channels:
        - "#orders"
        - "#support"
        - "#inventory-alerts"

  # WhatsApp Business (for customers)
  # - type: whatsapp
  #   enabled: true
  #   config:
  #     phoneNumberId: ${WA_PHONE_NUMBER_ID}
  #     accessToken: ${WA_ACCESS_TOKEN}

  # Email integration
  # - type: email
  #   enabled: true
  #   config:
  #     smtp:
  #       host: smtp.gmail.com
  #       port: 587
  #       user: ${EMAIL_USER}
  #       pass: ${EMAIL_PASS}

skills:
  - order-lookup        # "Where's my order #1001?"
  - customer-support    # Returns, refunds, cancellations
  - inventory-alerts    # Low stock notifications
  - sales-insights      # "How are we doing today?"
  - product-search      # "Find basmati rice"

workflows:
  # Low stock alert workflow
  - name: low-stock-alert
    trigger:
      type: event
      event: inventory.low
      threshold: 10
    actions:
      - type: notify
        target: "#inventory-alerts"
        template: "‚ö†Ô∏è Low stock: {{product.name}} ({{quantity}} left)"

  # Daily sales summary
  - name: daily-summary
    trigger:
      type: schedule
      schedule: "0 18 * * *"  # 6 PM daily
    actions:
      - type: notify
        target: "#sales"
        template: "üìä Daily Summary: {{orders}} orders, ${{revenue}} revenue"

  # Order shipped notification
  - name: order-shipped
    trigger:
      type: event
      event: order.shipped
    actions:
      - type: email
        target: customer
        template: "Your order #{{order.number}} is on the way! üöö"
      - type: whatsapp
        target: customer
        template: "Hi {{customer.name}}! Your order has shipped. Track here: {{trackingUrl}}"
